<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Reparaci√≥n - TecnoRepair Pro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <style>
        :root {
            --primary-color: #8a2be2;
            --secondary-color: #5e17eb;
            --accent-color: #ff6b6b;
            --dark-color: #121212;
            --darker-color: #0a0a0a;
            --light-color: #f8f9fa;
            --lighter-color: #ffffff;
            --text-gradient: linear-gradient(90deg, #8a2be2, #5e17eb, #ff6b6b);
            --card-bg: rgba(30, 30, 30, 0.7);
            --card-border: 1px solid rgba(255, 255, 255, 0.1);
            --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --glow-effect: 0 0 15px rgba(138, 43, 226, 0.5);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--dark-color);
            color: var(--light-color);
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(138, 43, 226, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(94, 23, 235, 0.1) 0%, transparent 20%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 25px 0;
            text-align: center;
            border-radius: 12px 12px 0 0;
            margin-bottom: 30px;
            box-shadow: var(--glow-effect);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .tecno-text {
            font-size: 2.8rem;
            margin-bottom: 10px;
            position: relative;
            background: var(--text-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            font-weight: bold;
            font-style: italic;
        }
        
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
        }
        
        .form-container {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 12px;
            box-shadow: var(--card-shadow);
            margin-bottom: 30px;
            border: var(--card-border);
        }
        
        .form-section {
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .form-section:last-child {
            border-bottom: none;
        }
        
        .form-section h2 {
            background: var(--text-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 20px;
            font-size: 1.8rem;
            position: relative;
            display: inline-block;
        }
        
        .form-section h2::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--text-gradient);
            border-radius: 2px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
        }
        
        .form-row .form-group {
            flex: 1;
            min-width: 250px;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--light-color);
            font-size: 1.1rem;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 14px;
            background-color: rgba(20, 20, 20, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            font-size: 16px;
            transition: all 0.3s;
            color: var(--light-color);
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(138, 43, 226, 0.3);
            background-color: rgba(30, 30, 30, 0.9);
        }
        
        textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .radio-option, .checkbox-option {
            display: flex;
            align-items: center;
            background: rgba(30, 30, 30, 0.7);
            padding: 10px 15px;
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
        }
        
        .radio-option:hover, .checkbox-option:hover {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(138, 43, 226, 0.3);
        }
        
        .radio-option input, .checkbox-option input {
            width: auto;
            margin-right: 10px;
        }
        
        .btn {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s;
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(138, 43, 226, 0.4);
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.5s;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(138, 43, 226, 0.6);
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        .btn-accent {
            background: linear-gradient(135deg, var(--accent-color), #ff8e8e);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }
        
        .btn-accent:hover {
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.6);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.4);
        }
        
        .btn-success:hover {
            box-shadow: 0 8px 25px rgba(46, 204, 113, 0.6);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            text-align: center;
            animation: modalFadeIn 0.4s;
            border: var(--card-border);
            box-shadow: var(--card-shadow);
        }
        
        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal h2 {
            margin-bottom: 20px;
            font-size: 1.8rem;
            background: var(--text-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .modal p {
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .equipment-photo {
            width: 180px;
            height: 180px;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 15px;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.3s;
            background-color: rgba(20, 20, 20, 0.5);
        }
        
        .equipment-photo:hover {
            border-color: var(--primary-color);
            box-shadow: 0 0 20px rgba(138, 43, 226, 0.3);
        }
        
        .equipment-photo img {
            max-width: 100%;
            max-height: 100%;
            display: none;
            object-fit: contain;
        }
        
        .photo-placeholder {
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            padding: 20px;
        }
        
        .photo-placeholder i {
            font-size: 50px;
            margin-bottom: 15px;
            display: block;
            color: var(--primary-color);
        }
        
        .signature-pad {
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            margin-bottom: 15px;
            background-color: rgba(20, 20, 20, 0.5);
            width: 100%;
            height: 150px;
            touch-action: none;
        }
        
        .signature-clear {
            background-color: rgba(30, 30, 30, 0.7);
            color: var(--light-color);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            margin-top: 10px;
        }
        
        .signature-clear:hover {
            background-color: rgba(40, 40, 40, 0.7);
            border-color: var(--accent-color);
        }
        
        .software-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .software-category {
            background: rgba(30, 30, 30, 0.7);
            border-radius: 8px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .software-category h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
            font-size: 1.1rem;
        }
        
        .software-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .software-item input {
            width: auto;
            margin-right: 10px;
        }
        
        .service-selection {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 40px 0;
        }
        
        .service-option {
            background: rgba(30, 30, 30, 0.7);
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            width: 300px;
        }
        
        .service-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(138, 43, 226, 0.4);
            border-color: var(--primary-color);
        }
        
        .service-option.selected {
            border-color: var(--primary-color);
            background: rgba(138, 43, 226, 0.1);
            box-shadow: 0 0 20px rgba(138, 43, 226, 0.3);
        }
        
        .service-option h3 {
            margin-bottom: 15px;
            color: var(--primary-color);
            font-size: 1.5rem;
        }
        
        .service-option p {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .additional-services {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .additional-service {
            background: rgba(30, 30, 30, 0.7);
            border-radius: 8px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .additional-service h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
            font-size: 1.1rem;
        }
        
        footer {
            text-align: center;
            padding: 30px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
            margin-top: 50px;
        }
        
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 20px;
            }
            
            .tecno-text {
                font-size: 2.2rem;
            }
            
            .modal-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                margin-bottom: 15px;
            }
            
            .software-options, .additional-services {
                grid-template-columns: 1fr;
            }
            
            .service-selection {
                flex-direction: column;
                align-items: center;
            }
            
            .service-option {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="tecno-text">TecnoRepair Pro</div>
            <p>Formulario avanzado de recepci√≥n de equipos</p>
        </header>
        
        <!-- Selecci√≥n de servicio -->
        <div id="serviceSelection" class="form-container">
            <h2 style="text-align: center; margin-bottom: 40px;">Seleccione el tipo de servicio</h2>
            <div class="service-selection">
                <div class="service-option" id="osInstallationOption">
                    <h3>Instalaci√≥n de Sistema Operativo</h3>
                    <p>Incluye instalaci√≥n limpia del SO, drivers, software b√°sico y configuraci√≥n inicial</p>
                </div>
                <div class="service-option" id="problemResolutionOption">
                    <h3>Resoluci√≥n de Problema</h3>
                    <p>Diagn√≥stico y reparaci√≥n de problemas de hardware o software en el equipo</p>
                </div>
            </div>
        </div>
        
        <!-- Formulario de instalaci√≥n de SO -->
        <div id="osInstallationForm" class="form-container" style="display: none;">
            <form id="repairForm">
                <input type="hidden" id="serviceType" name="serviceType" value="osInstallation">
                
                <!-- Secci√≥n de informaci√≥n del cliente -->
                <div class="form-section">
                    <h2>Informaci√≥n del Cliente</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="clientName">Nombre completo</label>
                            <input type="text" id="clientName" name="clientName">
                        </div>
                        <div class="form-group">
                            <label for="clientEmail">Correo electr√≥nico</label>
                            <input type="email" id="clientEmail" name="clientEmail">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="clientPhone">Tel√©fono</label>
                            <input type="tel" id="clientPhone" name="clientPhone">
                        </div>
                        <div class="form-group">
                            <label for="clientId">Identificaci√≥n (DNI/CIF/NIE)</label>
                            <input type="text" id="clientId" name="clientId">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="clientAddress">Direcci√≥n</label>
                        <input type="text" id="clientAddress" name="clientAddress">
                    </div>
                </div>
                
                <!-- Secci√≥n de informaci√≥n del equipo -->
                <div class="form-section">
                    <h2>Informaci√≥n del Equipo</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="equipmentType">Tipo de equipo</label>
                            <select id="equipmentType" name="equipmentType">
                                <option value="" selected disabled>Seleccione...</option>
                                <option value="laptop">Port√°til/Laptop</option>
                                <option value="desktop">Ordenador de sobremesa</option>
                                <option value="tablet">Tablet</option>
                                <option value="smartphone">Smartphone</option>
                                <option value="printer">Impresora</option>
                                <option value="monitor">Monitor</option>
                                <option value="server">Servidor</option>
                                <option value="network">Equipo de red</option>
                                <option value="other">Otro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="equipmentBrand">Marca</label>
                            <input type="text" id="equipmentBrand" name="equipmentBrand">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="equipmentModel">Modelo</label>
                            <input type="text" id="equipmentModel" name="equipmentModel">
                        </div>
                        <div class="form-group">
                            <label for="serialNumber">N√∫mero de serie</label>
                            <input type="text" id="serialNumber" name="serialNumber">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="purchaseDate">Fecha de compra (aproximada)</label>
                            <input type="date" id="purchaseDate" name="purchaseDate">
                        </div>
                        <div class="form-group">
                            <label for="warranty">¬øEn garant√≠a?</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="warrantyYes" name="warranty" value="S√≠">
                                    <label for="warrantyYes">S√≠</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="warrantyNo" name="warranty" value="No">
                                    <label for="warrantyNo">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="operatingSystem">Sistema operativo a instalar</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="osWindows" name="operatingSystem" value="Windows">
                                <label for="osWindows">Windows</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="osLinux" name="operatingSystem" value="Linux">
                                <label for="osLinux">Linux</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="osMac" name="operatingSystem" value="macOS">
                                <label for="osMac">macOS</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="osOther" name="operatingSystem" value="Otro">
                                <label for="osOther">Otro</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="osVersion">Versi√≥n espec√≠fica</label>
                        <input type="text" id="osVersion" name="osVersion" placeholder="Ej: Windows 10 Pro, Ubuntu 22.04, etc.">
                    </div>
                    <div class="form-group">
                        <label for="equipmentCondition">Estado f√≠sico del equipo</label>
                        <textarea id="equipmentCondition" name="equipmentCondition" placeholder="Describa el estado f√≠sico del equipo (golpes, rayones, piezas faltantes, l√≠quidos derramados, etc.)"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Fotograf√≠a del equipo</label>
                        <div class="equipment-photo" id="photoContainer">
                            <div class="photo-placeholder">
                                <div>üì∑</div>
                                <span>Haga clic para agregar foto</span>
                            </div>
                            <img id="equipmentPhoto" src="" alt="Foto del equipo">
                        </div>
                        <input type="file" id="photoInput" accept="image/*" style="display: none;">
                    </div>
                </div>
                
                <!-- Secci√≥n ampliada de software y servicios -->
                <div class="form-section">
                    <h2>Software y Servicios</h2>
                    <div class="form-group">
                        <label>Seleccione el software a instalar:</label>
                        <div class="software-options">
                            <!-- Ofim√°tica -->
                            <div class="software-category">
                                <h4>Ofim√°tica</h4>
                                <div class="software-item">
                                    <input type="checkbox" id="office" name="office">
                                    <label for="office">Microsoft Office</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="officeVersion" name="officeVersion">
                                    <label for="officeVersion">Versi√≥n de Office</label>
                                    <select id="officeVersionSelect" name="officeVersionSelect" style="margin-top: 5px; display: none;">
                                        <option value="2019">2019</option>
                                        <option value="2021">2021</option>
                                        <option value="365">365</option>
                                    </select>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="libreoffice" name="libreoffice">
                                    <label for="libreoffice">LibreOffice</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="googleWorkspace" name="googleWorkspace">
                                    <label for="googleWorkspace">Google Workspace</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="wpsOffice" name="wpsOffice">
                                    <label for="wpsOffice">WPS Office</label>
                                </div>
                            </div>
                            
                            <!-- Seguridad -->
                            <div class="software-category">
                                <h4>Seguridad</h4>
                                <div class="software-item">
                                    <input type="checkbox" id="antivirus" name="antivirus">
                                    <label for="antivirus">Antivirus</label>
                                    <select id="antivirusSelect" name="antivirusSelect" style="margin-top: 5px; display: none;">
                                        <option value="Kaspersky">Kaspersky</option>
                                        <option value="Norton">Norton</option>
                                        <option value="Bitdefender">Bitdefender</option>
                                        <option value="Avast">Avast</option>
                                        <option value="McAfee">McAfee</option>
                                    </select>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="vpn" name="vpn">
                                    <label for="vpn">VPN</label>
                                    <select id="vpnSelect" name="vpnSelect" style="margin-top: 5px; display: none;">
                                        <option value="NordVPN">NordVPN</option>
                                        <option value="ExpressVPN">ExpressVPN</option>
                                        <option value="CyberGhost">CyberGhost</option>
                                    </select>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="firewall" name="firewall">
                                    <label for="firewall">Firewall</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="malwarebytes" name="malwarebytes">
                                    <label for="malwarebytes">Malwarebytes</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="ccleaner" name="ccleaner">
                                    <label for="ccleaner">CCleaner</label>
                                </div>
                            </div>
                            
                            <!-- Dise√±o y Multimedia -->
                            <div class="software-category">
                                <h4>Dise√±o y Multimedia</h4>
                                <div class="software-item">
                                    <input type="checkbox" id="adobe" name="adobe">
                                    <label for="adobe">Adobe Creative Cloud</label>
                                    <select id="adobeSelect" name="adobeSelect" style="margin-top: 5px; display: none;">
                                        <option value="Photoshop">Photoshop</option>
                                        <option value="Illustrator">Illustrator</option>
                                        <option value="Premiere">Premiere</option>
                                        <option value="AfterEffects">After Effects</option>
                                        <option value="FullSuite">Suite Completa</option>
                                    </select>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="autocad" name="autocad">
                                    <label for="autocad">AutoCAD</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="coreldraw" name="coreldraw">
                                    <label for="coreldraw">CorelDRAW</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="blender" name="blender">
                                    <label for="blender">Blender</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="gimp" name="gimp">
                                    <label for="gimp">GIMP</label>
                                </div>
                            </div>
                            
                            <!-- Desarrollo -->
                            <div class="software-category">
                                <h4>Desarrollo</h4>
                                <div class="software-item">
                                    <input type="checkbox" id="vscode" name="vscode">
                                    <label for="vscode">Visual Studio Code</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="git" name="git">
                                    <label for="git">Git</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="nodejs" name="nodejs">
                                    <label for="nodejs">Node.js</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="python" name="python">
                                    <label for="python">Python</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="docker" name="docker">
                                    <label for="docker">Docker</label>
                                </div>
                            </div>
                            
                            <!-- Navegadores -->
                            <div class="software-category">
                                <h4>Navegadores</h4>
                                <div class="software-item">
                                    <input type="checkbox" id="chrome" name="chrome">
                                    <label for="chrome">Google Chrome</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="firefox" name="firefox">
                                    <label for="firefox">Mozilla Firefox</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="edge" name="edge">
                                    <label for="edge">Microsoft Edge</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="opera" name="opera">
                                    <label for="opera">Opera</label>
                                </div>
                            </div>
                            
                            <!-- Utilidades -->
                            <div class="software-category">
                                <h4>Utilidades</h4>
                                <div class="software-item">
                                    <input type="checkbox" id="winrar" name="winrar">
                                    <label for="winrar">WinRAR</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="vlc" name="vlc">
                                    <label for="vlc">VLC Media Player</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="zoom" name="zoom">
                                    <label for="zoom">Zoom</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="teamviewer" name="teamviewer">
                                    <label for="teamviewer">TeamViewer</label>
                                </div>
                            </div>
                            
                            <!-- Personalizado -->
                            <div class="software-category">
                                <h4>Personalizado</h4>
                                <div class="software-item">
                                    <input type="checkbox" id="customSoftware" name="customSoftware">
                                    <label for="customSoftware">Software personalizado</label>
                                </div>
                                <textarea id="customSoftwareList" name="customSoftwareList" placeholder="Especifique el software personalizado" style="margin-top: 10px; display: none;"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="backupRequired">¬øRequiere backup de datos?</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="backupYes" name="backupRequired" value="S√≠">
                                <label for="backupYes">S√≠</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="backupNo" name="backupRequired" value="No">
                                <label for="backupNo">No</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group" id="backupDetailsGroup" style="display: none;">
                        <label for="backupDetails">Detalles del backup</label>
                        <textarea id="backupDetails" name="backupDetails" placeholder="Especifique qu√© datos necesita respaldar y ubicaci√≥n aproximada"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="dataRecovery">¬øRequiere recuperaci√≥n de datos?</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="recoveryYes" name="dataRecovery" value="S√≠">
                                <label for="recoveryYes">S√≠</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="recoveryNo" name="dataRecovery" value="No">
                                <label for="recoveryNo">No</label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n de notas adicionales -->
                <div class="form-section">
                    <h2>Notas Adicionales</h2>
                    <div class="form-group">
                        <label for="additionalNotes">Instrucciones especiales o requisitos adicionales</label>
                        <textarea id="additionalNotes" name="additionalNotes" placeholder="Describa cualquier requisito especial para la instalaci√≥n"></textarea>
                    </div>
                </div>
                
                <!-- Secci√≥n de firma -->
                <div class="form-section">
                    <h2>Confirmaci√≥n</h2>
                    <div class="form-group">
                        <label for="clientSignature">Firma del cliente</label>
                        <canvas id="signaturePad" class="signature-pad"></canvas>
                        <button type="button" id="clearSignature" class="btn signature-clear">Limpiar firma</button>
                        <input type="hidden" id="clientSignature" name="clientSignature">
                    </div>
                </div>
                
                <button type="submit" class="btn btn-accent btn-block">Generar documento de recepci√≥n</button>
            </form>
        </div>
        
        <!-- Formulario de resoluci√≥n de problemas -->
        <div id="problemResolutionForm" class="form-container" style="display: none;">
            <form id="problemResolutionForm">
                <input type="hidden" id="serviceType" name="serviceType" value="problemResolution">
                
                <!-- Secci√≥n de informaci√≥n del cliente -->
                <div class="form-section">
                    <h2>Informaci√≥n del Cliente</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="clientName">Nombre completo</label>
                            <input type="text" id="clientName" name="clientName">
                        </div>
                        <div class="form-group">
                            <label for="clientEmail">Correo electr√≥nico</label>
                            <input type="email" id="clientEmail" name="clientEmail">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="clientPhone">Tel√©fono</label>
                            <input type="tel" id="clientPhone" name="clientPhone">
                        </div>
                        <div class="form-group">
                            <label for="clientId">Identificaci√≥n (DNI/CIF/NIE)</label>
                            <input type="text" id="clientId" name="clientId">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="clientAddress">Direcci√≥n</label>
                        <input type="text" id="clientAddress" name="clientAddress">
                    </div>
                </div>
                
                <!-- Secci√≥n de informaci√≥n del equipo -->
                <div class="form-section">
                    <h2>Informaci√≥n del Equipo</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="equipmentType">Tipo de equipo</label>
                            <select id="equipmentType" name="equipmentType">
                                <option value="" selected disabled>Seleccione...</option>
                                <option value="laptop">Port√°til/Laptop</option>
                                <option value="desktop">Ordenador de sobremesa</option>
                                <option value="tablet">Tablet</option>
                                <option value="smartphone">Smartphone</option>
                                <option value="printer">Impresora</option>
                                <option value="monitor">Monitor</option>
                                <option value="server">Servidor</option>
                                <option value="network">Equipo de red</option>
                                <option value="other">Otro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="equipmentBrand">Marca</label>
                            <input type="text" id="equipmentBrand" name="equipmentBrand">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="equipmentModel">Modelo</label>
                            <input type="text" id="equipmentModel" name="equipmentModel">
                        </div>
                        <div class="form-group">
                            <label for="serialNumber">N√∫mero de serie</label>
                            <input type="text" id="serialNumber" name="serialNumber">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="purchaseDate">Fecha de compra (aproximada)</label>
                            <input type="date" id="purchaseDate" name="purchaseDate">
                        </div>
                        <div class="form-group">
                            <label for="warranty">¬øEn garant√≠a?</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="warrantyYes" name="warranty" value="S√≠">
                                    <label for="warrantyYes">S√≠</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="warrantyNo" name="warranty" value="No">
                                    <label for="warrantyNo">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="operatingSystem">Sistema operativo actual</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="osWindows" name="operatingSystem" value="Windows">
                                <label for="osWindows">Windows</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="osLinux" name="operatingSystem" value="Linux">
                                <label for="osLinux">Linux</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="osMac" name="operatingSystem" value="macOS">
                                <label for="osMac">macOS</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="osOther" name="operatingSystem" value="Otro">
                                <label for="osOther">Otro</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="osVersion">Versi√≥n del sistema operativo</label>
                        <input type="text" id="osVersion" name="osVersion" placeholder="Ej: Windows 10 Pro, Ubuntu 22.04, etc.">
                    </div>
                    <div class="form-group">
                        <label for="equipmentCondition">Estado f√≠sico del equipo</label>
                        <textarea id="equipmentCondition" name="equipmentCondition" placeholder="Describa el estado f√≠sico del equipo (golpes, rayones, piezas faltantes, l√≠quidos derramados, etc.)"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Fotograf√≠a del equipo</label>
                        <div class="equipment-photo" id="photoContainer">
                            <div class="photo-placeholder">
                                <div>üì∑</div>
                                <span>Haga clic para agregar foto</span>
                            </div>
                            <img id="equipmentPhoto" src="" alt="Foto del equipo">
                        </div>
                        <input type="file" id="photoInput" accept="image/*" style="display: none;">
                    </div>
                </div>
                
                <!-- Secci√≥n de descripci√≥n del problema -->
                <div class="form-section">
                    <h2>Descripci√≥n del Problema</h2>
                    <div class="form-group">
                        <label for="problemDescription">Descripci√≥n detallada del problema</label>
                        <textarea id="problemDescription" name="problemDescription" placeholder="Describa con el mayor detalle posible qu√© problema presenta el equipo, cu√°ndo comenz√≥, qu√© ha intentado para solucionarlo, etc."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="errorMessages">Mensajes de error (si aplica)</label>
                        <textarea id="errorMessages" name="errorMessages" placeholder="Escriba los mensajes de error exactos que muestra el equipo, si los hay"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="problemType">Tipo de problema</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="hardwareProblem" name="problemType" value="Hardware">
                                <label for="hardwareProblem">Hardware</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="softwareProblem" name="problemType" value="Software">
                                <label for="softwareProblem">Software</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="bothProblem" name="problemType" value="Ambos">
                                <label for="bothProblem">Ambos</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="unknownProblem" name="problemType" value="Desconocido">
                                <label for="unknownProblem">Desconocido</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>¬øQu√© componentes/software incluye?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-option">
                                <input type="checkbox" id="includesCharger" name="includesCharger">
                                <label for="includesCharger">Cargador</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="includesBattery" name="includesBattery">
                                <label for="includesBattery">Bater√≠a</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="includesCase" name="includesCase">
                                <label for="includesCase">Funda/carcasa</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="includesMouse" name="includesMouse">
                                <label for="includesMouse">Rat√≥n</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" id="includesKeyboard" name="includesKeyboard">
                                <label for="includesKeyboard">Teclado</label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n de servicios adicionales ampliada -->
                <div class="form-section">
                    <h2>Servicios Adicionales</h2>
                    <div class="form-group">
                        <label>Seleccione servicios adicionales:</label>
                        <div class="additional-services">
                            <!-- Servicios de hardware -->
                            <div class="additional-service">
                                <h4>Servicios de Hardware</h4>
                                <div class="software-item">
                                    <input type="checkbox" id="hardwareCleaning" name="hardwareCleaning">
                                    <label for="hardwareCleaning">Limpieza interna</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="thermalPaste" name="thermalPaste">
                                    <label for="thermalPaste">Cambio pasta t√©rmica</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="ramUpgrade" name="ramUpgrade">
                                    <label for="ramUpgrade">Ampliaci√≥n RAM</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="hddUpgrade" name="hddUpgrade">
                                    <label for="hddUpgrade">Ampliaci√≥n disco duro</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="screenReplacement" name="screenReplacement">
                                    <label for="screenReplacement">Cambio de pantalla</label>
                                </div>
                            </div>
                            
                            <!-- Servicios de software -->
                            <div class="additional-service">
                                <h4>Servicios de Software</h4>
                                <div class="software-item">
                                    <input type="checkbox" id="osInstallationService" name="osInstallationService">
                                    <label for="osInstallationService">Instalaci√≥n SO</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="driverInstallation" name="driverInstallation">
                                    <label for="driverInstallation">Instalaci√≥n drivers</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="virusRemoval" name="virusRemoval">
                                    <label for="virusRemoval">Eliminaci√≥n virus</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="performanceOptimization" name="performanceOptimization">
                                    <label for="performanceOptimization">Optimizaci√≥n rendimiento</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="networkConfiguration" name="networkConfiguration">
                                    <label for="networkConfiguration">Configuraci√≥n red</label>
                                </div>
                            </div>
                            
                            <!-- Recuperaci√≥n de datos -->
                            <div class="additional-service">
                                <h4>Recuperaci√≥n de Datos</h4>
                                <div class="software-item">
                                    <input type="checkbox" id="dataBackup" name="dataBackup">
                                    <label for="dataBackup">Backup de datos</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="dataRecoveryService" name="dataRecoveryService">
                                    <label for="dataRecoveryService">Recuperaci√≥n datos</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="partitionRecovery" name="partitionRecovery">
                                    <label for="partitionRecovery">Recuperaci√≥n particiones</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="fileRepair" name="fileRepair">
                                    <label for="fileRepair">Reparaci√≥n archivos</label>
                                </div>
                            </div>
                            
                            <!-- Configuraci√≥n y seguridad -->
                            <div class="additional-service">
                                <h4>Configuraci√≥n y Seguridad</h4>
                                <div class="software-item">
                                    <input type="checkbox" id="antivirusInstallation" name="antivirusInstallation">
                                    <label for="antivirusInstallation">Instalaci√≥n antivirus</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="firewallConfiguration" name="firewallConfiguration">
                                    <label for="firewallConfiguration">Configuraci√≥n firewall</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="vpnConfiguration" name="vpnConfiguration">
                                    <label for="vpnConfiguration">Configuraci√≥n VPN</label>
                                </div>
                                <div class="software-item">
                                    <input type="checkbox" id="parentalControl" name="parentalControl">
                                    <label for="parentalControl">Control parental</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group" id="backupDetailsGroup" style="display: none;">
                        <label for="backupDetails">Detalles del backup</label>
                        <textarea id="backupDetails" name="backupDetails" placeholder="Especifique qu√© datos necesita respaldar y ubicaci√≥n aproximada"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="urgency">Urgencia del servicio</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="urgent" name="urgency" value="Urgente (24h)">
                                <label for="urgent">Urgente (24h)</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="priority" name="urgency" value="Prioritario (72h)">
                                <label for="priority">Prioritario (72h)</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="standard" name="urgency" value="Est√°ndar (5 d√≠as)">
                                <label for="standard">Est√°ndar (5 d√≠as)</label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Secci√≥n de firma -->
                <div class="form-section">
                    <h2>Confirmaci√≥n</h2>
                    <div class="form-group">
                        <label for="clientSignature">Firma del cliente</label>
                        <canvas id="signaturePad" class="signature-pad"></canvas>
                        <button type="button" id="clearSignature" class="btn signature-clear">Limpiar firma</button>
                        <input type="hidden" id="clientSignature" name="clientSignature">
                    </div>
                </div>
                
                <button type="submit" class="btn btn-accent btn-block">Generar documento de recepci√≥n</button>
            </form>
        </div>
    </div>
    
    <!-- Modal para confirmar generaci√≥n de PDF -->
    <div id="downloadModal" class="modal">
        <div class="modal-content">
            <h2>Documento generado con √©xito</h2>
            <p>El documento de recepci√≥n est√° listo para descargar en formato PDF.</p>
            <div class="modal-buttons">
                <button id="downloadPdf" class="btn btn-accent">Descargar PDF</button>
                <button id="closeModal" class="btn">Cerrar</button>
            </div>
        </div>
    </div>
    
    <footer>
        <p>TecnoRepair Pro &copy; 2023 - Soluciones tecnol√≥gicas avanzadas</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.5.3/signature_pad.min.js"></script>
    <script>
        // Auto-limpieza al cargar la p√°gina
        window.addEventListener('load', function() {
            resetForm();
        });

        // Inicializar los pads de firma
        function initializeSignaturePads() {
            const canvas1 = document.querySelector('#osInstallationForm canvas');
            const canvas2 = document.querySelector('#problemResolutionForm canvas');
            
            const signaturePad1 = new SignaturePad(canvas1, {
                backgroundColor: 'rgba(20, 20, 20, 0)',
                penColor: 'rgb(255, 255, 255)'
            });
            
            const signaturePad2 = new SignaturePad(canvas2, {
                backgroundColor: 'rgba(20, 20, 20, 0)',
                penColor: 'rgb(255, 255, 255)'
            });
            
            // Manejar el bot√≥n de limpiar firma en instalaci√≥n de SO
            document.querySelector('#osInstallationForm #clearSignature').addEventListener('click', function() {
                signaturePad1.clear();
                document.querySelector('#osInstallationForm #clientSignature').value = '';
            });
            
            // Manejar el bot√≥n de limpiar firma en resoluci√≥n de problemas
            document.querySelector('#problemResolutionForm #clearSignature').addEventListener('click', function() {
                signaturePad2.clear();
                document.querySelector('#problemResolutionForm #clientSignature').value = '';
            });
            
            // Actualizar el valor del campo oculto cuando se dibuja
            canvas1.addEventListener('mouseup', function() {
                document.querySelector('#osInstallationForm #clientSignature').value = 
                    signaturePad1.isEmpty() ? '' : signaturePad1.toDataURL();
            });
            
            canvas1.addEventListener('touchend', function() {
                document.querySelector('#osInstallationForm #clientSignature').value = 
                    signaturePad1.isEmpty() ? '' : signaturePad1.toDataURL();
            });
            
            canvas2.addEventListener('mouseup', function() {
                document.querySelector('#problemResolutionForm #clientSignature').value = 
                    signaturePad2.isEmpty() ? '' : signaturePad2.toDataURL();
            });
            
            canvas2.addEventListener('touchend', function() {
                document.querySelector('#problemResolutionForm #clientSignature').value = 
                    signaturePad2.isEmpty() ? '' : signaturePad2.toDataURL();
            });
            
            return { signaturePad1, signaturePad2 };
        }
        
        // Inicializar los pads de firma cuando se muestran los formularios
        let signaturePads = initializeSignaturePads();
        
        // Manejar la subida de fotos
        document.getElementById('photoContainer').addEventListener('click', function() {
            document.getElementById('photoInput').click();
        });
        
        document.getElementById('photoInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const img = document.getElementById('equipmentPhoto');
                    img.src = event.target.result;
                    img.style.display = 'block';
                    document.querySelector('.photo-placeholder').style.display = 'none';
                };
                reader.readAsDataURL(file);
            }
        });
        
        // Mostrar/ocultar detalles de backup
        document.querySelectorAll('input[name="backupRequired"]').forEach(radio => {
            radio.addEventListener('change', function() {
                document.getElementById('backupDetailsGroup').style.display = 
                    this.value === 'S√≠' ? 'block' : 'none';
            });
        });
        
        // Mostrar/ocultar campo de software personalizado
        document.getElementById('customSoftware').addEventListener('change', function() {
            document.getElementById('customSoftwareList').style.display = 
                this.checked ? 'block' : 'none';
        });
        
        // Mostrar selectores de versi√≥n cuando se seleccionan ciertos softwares
        document.getElementById('office').addEventListener('change', function() {
            document.getElementById('officeVersionSelect').style.display = 
                this.checked ? 'block' : 'none';
        });
        
        document.getElementById('antivirus').addEventListener('change', function() {
            document.getElementById('antivirusSelect').style.display = 
                this.checked ? 'block' : 'none';
        });
        
        document.getElementById('vpn').addEventListener('change', function() {
            document.getElementById('vpnSelect').style.display = 
                this.checked ? 'block' : 'none';
        });
        
        document.getElementById('adobe').addEventListener('change', function() {
            document.getElementById('adobeSelect').style.display = 
                this.checked ? 'block' : 'none';
        });
        
        // Selecci√≥n de servicio
        document.getElementById('osInstallationOption').addEventListener('click', function() {
            document.getElementById('serviceSelection').style.display = 'none';
            document.getElementById('osInstallationForm').style.display = 'block';
            document.querySelector('input[name="serviceType"]').value = 'osInstallation';
            this.classList.add('selected');
            document.getElementById('problemResolutionOption').classList.remove('selected');
            
            // Re-inicializar el pad de firma
            signaturePads = initializeSignaturePads();
        });
        
        document.getElementById('problemResolutionOption').addEventListener('click', function() {
            document.getElementById('serviceSelection').style.display = 'none';
            document.getElementById('problemResolutionForm').style.display = 'block';
            document.querySelector('input[name="serviceType"]').value = 'problemResolution';
            this.classList.add('selected');
            document.getElementById('osInstallationOption').classList.remove('selected');
            
            // Re-inicializar el pad de firma
            signaturePads = initializeSignaturePads();
        });
        
        // Manejar el env√≠o del formulario
        document.getElementById('repairForm').addEventListener('submit', function(e) {
            e.preventDefault();
            generatePdf();
        });
        
        document.getElementById('problemResolutionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            generatePdf();
        });
        
        // Configurar bot√≥n de descarga PDF
        document.getElementById('downloadPdf').addEventListener('click', function() {
            generatePdf();
        });
        
        // Cerrar modal
        document.getElementById('closeModal').addEventListener('click', function() {
            document.getElementById('downloadModal').style.display = 'none';
            resetForm();
        });
        
        // Cerrar modal al hacer clic fuera
        document.getElementById('downloadModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.style.display = 'none';
                resetForm();
            }
        });
        
        // Funci√≥n para resetear el formulario
        function resetForm() {
            const forms = document.querySelectorAll('form');
            forms.forEach(form => form.reset());
            
            // Limpiar las firmas
            if (signaturePads) {
                signaturePads.signaturePad1.clear();
                signaturePads.signaturePad2.clear();
            }
            
            document.getElementById('clientSignature').value = '';
            document.getElementById('equipmentPhoto').style.display = 'none';
            document.querySelector('.photo-placeholder').style.display = 'block';
            document.getElementById('photoInput').value = '';
            document.getElementById('backupDetailsGroup').style.display = 'none';
            document.getElementById('customSoftwareList').style.display = 'none';
            document.getElementById('downloadModal').style.display = 'none';
            
            // Ocultar selects de software
            document.getElementById('officeVersionSelect').style.display = 'none';
            document.getElementById('antivirusSelect').style.display = 'none';
            document.getElementById('vpnSelect').style.display = 'none';
            document.getElementById('adobeSelect').style.display = 'none';
            
            // Volver a la selecci√≥n de servicio
            document.getElementById('serviceSelection').style.display = 'block';
            document.getElementById('osInstallationForm').style.display = 'none';
            document.getElementById('problemResolutionForm').style.display = 'none';
            document.getElementById('osInstallationOption').classList.remove('selected');
            document.getElementById('problemResolutionOption').classList.remove('selected');
        }
        
        // Funci√≥n para generar PDF (formato blanco)
        function generatePdf() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Obtener el tipo de servicio
            const serviceType = document.querySelector('input[name="serviceType"]').value;
            const isOsInstallation = serviceType === 'osInstallation';
            
            // Configuraci√≥n inicial
            doc.setFont('helvetica');
            doc.setFontSize(22);
            doc.setTextColor(0, 0, 0);
            doc.text('TecnoRepair Pro', 105, 20, { align: 'center' });
            doc.setFontSize(16);
            doc.text(`DOCUMENTO DE ${isOsInstallation ? 'INSTALACI√ìN DE SISTEMA OPERATIVO' : 'RESOLUCI√ìN DE PROBLEMA'}`, 105, 30, { align: 'center' });
            
            // Fecha y n√∫mero de ticket
            const now = new Date();
            doc.setFontSize(10);
            doc.text(`Fecha: ${now.toLocaleDateString()} ${now.toLocaleTimeString()}`, 14, 40);
            doc.text(`Ticket #${Math.floor(10000 + Math.random() * 90000)}`, 186, 40, { align: 'right' });
            
            // L√≠nea separadora
            doc.setDrawColor(0, 0, 0);
            doc.setLineWidth(0.5);
            doc.line(14, 45, 196, 45);
            
            // Informaci√≥n del cliente
            doc.setFontSize(12);
            doc.setFont('helvetica', 'bold');
            doc.text('INFORMACI√ìN DEL CLIENTE', 14, 55);
            doc.setFont('helvetica', 'normal');
            
            let y = 65;
            doc.text(`Nombre: ${document.getElementById('clientName').value || 'No proporcionado'}`, 14, y);
            y += 7;
            doc.text(`Correo: ${document.getElementById('clientEmail').value || 'No proporcionado'}`, 14, y);
            y += 7;
            doc.text(`Tel√©fono: ${document.getElementById('clientPhone').value || 'No proporcionado'}`, 14, y);
            y += 7;
            doc.text(`Identificaci√≥n: ${document.getElementById('clientId').value || 'No proporcionada'}`, 14, y);
            y += 7;
            doc.text(`Direcci√≥n: ${document.getElementById('clientAddress').value || 'No proporcionada'}`, 14, y);
            y += 12;
            
            // Informaci√≥n del equipo
            doc.setFont('helvetica', 'bold');
            doc.text('INFORMACI√ìN DEL EQUIPO', 14, y);
            doc.setFont('helvetica', 'normal');
            y += 7;
            
            doc.text(`Tipo: ${document.getElementById('equipmentType').value || 'No proporcionado'}`, 14, y);
            y += 7;
            doc.text(`Marca: ${document.getElementById('equipmentBrand').value || 'No proporcionada'}`, 14, y);
            y += 7;
            doc.text(`Modelo: ${document.getElementById('equipmentModel').value || 'No proporcionado'}`, 14, y);
            y += 7;
            doc.text(`N√∫mero de serie: ${document.getElementById('serialNumber').value || 'No proporcionado'}`, 14, y);
            y += 7;
            doc.text(`Fecha compra: ${document.getElementById('purchaseDate').value || 'No proporcionada'}`, 14, y);
            y += 7;
            doc.text(`Garant√≠a: ${document.querySelector('input[name="warranty"]:checked')?.value || 'No especificado'}`, 14, y);
            y += 7;
            doc.text(`Sistema operativo: ${document.querySelector('input[name="operatingSystem"]:checked')?.value || 'No especificado'} ${document.getElementById('osVersion').value || ''}`, 14, y);
            y += 7;
            
            // Estado del equipo (puede ser multil√≠nea)
            const conditionLines = doc.splitTextToSize(
                `Estado f√≠sico: ${document.getElementById('equipmentCondition').value || 'No proporcionado'}`, 
                180
            );
            doc.text(conditionLines, 14, y);
            y += conditionLines.length * 7;
            
            // Secci√≥n espec√≠fica seg√∫n el tipo de servicio
            if (isOsInstallation) {
                // Software a instalar
                const softwareToInstall = [];
                if (document.getElementById('office')?.checked) {
                    softwareToInstall.push(`Microsoft Office ${document.getElementById('officeVersionSelect').value || ''}`);
                }
                if (document.getElementById('libreoffice')?.checked) softwareToInstall.push('LibreOffice');
                if (document.getElementById('googleWorkspace')?.checked) softwareToInstall.push('Google Workspace');
                if (document.getElementById('wpsOffice')?.checked) softwareToInstall.push('WPS Office');
                if (document.getElementById('antivirus')?.checked) {
                    softwareToInstall.push(`Antivirus: ${document.getElementById('antivirusSelect').value || ''}`);
                }
                if (document.getElementById('vpn')?.checked) {
                    softwareToInstall.push(`VPN: ${document.getElementById('vpnSelect').value || ''}`);
                }
                if (document.getElementById('firewall')?.checked) softwareToInstall.push('Firewall');
                if (document.getElementById('malwarebytes')?.checked) softwareToInstall.push('Malwarebytes');
                if (document.getElementById('ccleaner')?.checked) softwareToInstall.push('CCleaner');
                if (document.getElementById('adobe')?.checked) {
                    softwareToInstall.push(`Adobe: ${document.getElementById('adobeSelect').value || ''}`);
                }
                if (document.getElementById('autocad')?.checked) softwareToInstall.push('AutoCAD');
                if (document.getElementById('coreldraw')?.checked) softwareToInstall.push('CorelDRAW');
                if (document.getElementById('blender')?.checked) softwareToInstall.push('Blender');
                if (document.getElementById('gimp')?.checked) softwareToInstall.push('GIMP');
                if (document.getElementById('vscode')?.checked) softwareToInstall.push('VS Code');
                if (document.getElementById('git')?.checked) softwareToInstall.push('Git');
                if (document.getElementById('nodejs')?.checked) softwareToInstall.push('Node.js');
                if (document.getElementById('python')?.checked) softwareToInstall.push('Python');
                if (document.getElementById('docker')?.checked) softwareToInstall.push('Docker');
                if (document.getElementById('chrome')?.checked) softwareToInstall.push('Chrome');
                if (document.getElementById('firefox')?.checked) softwareToInstall.push('Firefox');
                if (document.getElementById('edge')?.checked) softwareToInstall.push('Edge');
                if (document.getElementById('opera')?.checked) softwareToInstall.push('Opera');
                if (document.getElementById('winrar')?.checked) softwareToInstall.push('WinRAR');
                if (document.getElementById('vlc')?.checked) softwareToInstall.push('VLC');
                if (document.getElementById('zoom')?.checked) softwareToInstall.push('Zoom');
                if (document.getElementById('teamviewer')?.checked) softwareToInstall.push('TeamViewer');
                if (document.getElementById('customSoftware')?.checked) {
                    softwareToInstall.push('Software personalizado: ' + (document.getElementById('customSoftwareList').value || 'No especificado'));
                }
                
                if (softwareToInstall.length > 0) {
                    doc.text('Software a instalar:', 14, y);
                    y += 7;
                    
                    const softwareLines = doc.splitTextToSize(
                        softwareToInstall.join(', '), 
                        180
                    );
                    doc.text(softwareLines, 20, y);
                    y += softwareLines.length * 7;
                }
                
                // Notas adicionales
                if (document.getElementById('additionalNotes')?.value) {
                    y += 5;
                    doc.text('Notas adicionales:', 14, y);
                    y += 7;
                    
                    const notesLines = doc.splitTextToSize(
                        document.getElementById('additionalNotes').value, 
                        180
                    );
                    doc.text(notesLines, 20, y);
                    y += notesLines.length * 7;
                }
            } else {
                // Componentes incluidos
                const includes = [];
                if (document.getElementById('includesCharger')?.checked) includes.push('Cargador');
                if (document.getElementById('includesBattery')?.checked) includes.push('Bater√≠a');
                if (document.getElementById('includesCase')?.checked) includes.push('Funda/carcasa');
                if (document.getElementById('includesMouse')?.checked) includes.push('Rat√≥n');
                if (document.getElementById('includesKeyboard')?.checked) includes.push('Teclado');
                
                doc.text(`Componentes incluidos: ${includes.join(', ') || 'Ninguno especificado'}`, 14, y);
                y += 7;
                
                // Descripci√≥n del problema para resoluci√≥n
                doc.setFont('helvetica', 'bold');
                doc.text('DESCRIPCI√ìN DEL PROBLEMA', 14, y);
                doc.setFont('helvetica', 'normal');
                y += 7;
                
                const problemLines = doc.splitTextToSize(
                    document.getElementById('problemDescription').value || 'No proporcionada', 
                    180
                );
                doc.text(problemLines, 14, y);
                y += problemLines.length * 7;
                
                if (document.getElementById('errorMessages')?.value) {
                    y += 5;
                    doc.text('Mensajes de error:', 14, y);
                    y += 7;
                    
                    const errorLines = doc.splitTextToSize(
                        document.getElementById('errorMessages').value, 
                        180
                    );
                    doc.text(errorLines, 20, y);
                    y += errorLines.length * 7;
                }
                
                // Tipo de problema
                doc.text(`Tipo de problema: ${document.querySelector('input[name="problemType"]:checked')?.value || 'No especificado'}`, 14, y);
                y += 7;
                
                // Servicios adicionales seleccionados
                const additionalServices = [];
                if (document.getElementById('hardwareCleaning')?.checked) additionalServices.push('Limpieza interna');
                if (document.getElementById('thermalPaste')?.checked) additionalServices.push('Cambio pasta t√©rmica');
                if (document.getElementById('ramUpgrade')?.checked) additionalServices.push('Ampliaci√≥n RAM');
                if (document.getElementById('hddUpgrade')?.checked) additionalServices.push('Ampliaci√≥n disco duro');
                if (document.getElementById('screenReplacement')?.checked) additionalServices.push('Cambio de pantalla');
                if (document.getElementById('osInstallationService')?.checked) additionalServices.push('Instalaci√≥n SO');
                if (document.getElementById('driverInstallation')?.checked) additionalServices.push('Instalaci√≥n drivers');
                if (document.getElementById('virusRemoval')?.checked) additionalServices.push('Eliminaci√≥n virus');
                if (document.getElementById('performanceOptimization')?.checked) additionalServices.push('Optimizaci√≥n rendimiento');
                if (document.getElementById('networkConfiguration')?.checked) additionalServices.push('Configuraci√≥n red');
                if (document.getElementById('dataBackup')?.checked) additionalServices.push('Backup de datos');
                if (document.getElementById('dataRecoveryService')?.checked) additionalServices.push('Recuperaci√≥n datos');
                if (document.getElementById('partitionRecovery')?.checked) additionalServices.push('Recuperaci√≥n particiones');
                if (document.getElementById('fileRepair')?.checked) additionalServices.push('Reparaci√≥n archivos');
                if (document.getElementById('antivirusInstallation')?.checked) additionalServices.push('Instalaci√≥n antivirus');
                if (document.getElementById('firewallConfiguration')?.checked) additionalServices.push('Configuraci√≥n firewall');
                if (document.getElementById('vpnConfiguration')?.checked) additionalServices.push('Configuraci√≥n VPN');
                if (document.getElementById('parentalControl')?.checked) additionalServices.push('Control parental');
                
                if (additionalServices.length > 0) {
                    y += 5;
                    doc.text('Servicios adicionales:', 14, y);
                    y += 7;
                    
                    const servicesLines = doc.splitTextToSize(
                        additionalServices.join(', '), 
                        180
                    );
                    doc.text(servicesLines, 20, y);
                    y += servicesLines.length * 7;
                }
                
                // Urgencia
                doc.text(`Urgencia: ${document.querySelector('input[name="urgency"]:checked')?.value || 'No especificada'}`, 14, y);
                y += 7;
            }
            
            // Servicios adicionales (comunes a ambos)
            y += 5;
            doc.setFont('helvetica', 'bold');
            doc.text('SERVICIOS ADICIONALES', 14, y);
            doc.setFont('helvetica', 'normal');
            y += 7;
            
            doc.text(`Backup de datos: ${document.querySelector('input[name="backupRequired"]:checked')?.value || 'No'}`, 14, y);
            y += 7;
            
            if (document.querySelector('input[name="backupRequired"]:checked')?.value === 'S√≠') {
                const backupLines = doc.splitTextToSize(
                    `Detalles: ${document.getElementById('backupDetails').value || 'No proporcionados'}`, 
                    180
                );
                doc.text(backupLines, 20, y);
                y += backupLines.length * 7;
            }
            
            doc.text(`Recuperaci√≥n de datos: ${document.querySelector('input[name="dataRecovery"]:checked')?.value || 'No'}`, 14, y);
            y += 12;
            
            // Firma
            doc.text('Firma del cliente:', 14, y);
            
            try {
                const signatureData = document.getElementById('clientSignature').value;
                if (signatureData) {
                    doc.addImage(signatureData, 'PNG', 14, y + 5, 60, 20);
                }
            } catch (e) {
                console.error('Error al agregar la firma:', e);
            }
            
            // Foto del equipo (si existe)
            const photoInput = document.getElementById('photoInput');
            if (photoInput.files && photoInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    try {
                        doc.addPage();
                        
                        doc.setFont('helvetica', 'bold');
                        doc.text('FOTOGRAF√çA DEL EQUIPO', 105, 20, { align: 'center' });
                        doc.setFont('helvetica', 'normal');
                        
                        // Ajustar la imagen al ancho de la p√°gina manteniendo la relaci√≥n de aspecto
                        const img = new Image();
                        img.src = event.target.result;
                        
                        img.onload = function() {
                            const ratio = img.width / img.height;
                            let width = 180;
                            let height = width / ratio;
                            
                            if (height > 150) {
                                height = 150;
                                width = height * ratio;
                            }
                            
                            doc.addImage(img, 'JPEG', (210 - width) / 2, 30, width, height);
                            
                            // Pie de p√°gina
                            doc.setFontSize(10);
                            doc.text('TecnoRepair Pro - Soluciones tecnol√≥gicas avanzadas', 105, 280, { align: 'center' });
                            
                            doc.save(`${isOsInstallation ? 'instalacion_so' : 'resolucion_problema'}_tecno.pdf`);
                            document.getElementById('downloadModal').style.display = 'none';
                        };
                    } catch (e) {
                        console.error('Error al agregar la foto:', e);
                        doc.save(`${isOsInstallation ? 'instalacion_so' : 'resolucion_problema'}_tecno.pdf`);
                        document.getElementById('downloadModal').style.display = 'none';
                    }
                };
                reader.readAsDataURL(photoInput.files[0]);
            } else {
                // Pie de p√°gina si no hay foto
                doc.setFontSize(10);
                doc.text('TecnoRepair Pro - Soluciones tecnol√≥gicas avanzadas', 105, 280, { align: 'center' });
                
                doc.save(`${isOsInstallation ? 'instalacion_so' : 'resolucion_problema'}_tecno.pdf`);
                document.getElementById('downloadModal').style.display = 'none';
            }
            
            // Mostrar modal de confirmaci√≥n
            document.getElementById('downloadModal').style.display = 'flex';
        }
    </script>
</body>
</html>
