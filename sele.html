<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Select Din√°mico Avanzado</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 40px;
      background-color: #f9f9f9;
    }

    select {
      font-size: 16px;
      padding: 10px;
      width: 300px;
    }

    h2 {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

  <h2>Men√∫ din√°mico</h2>
  <select id="dynamic-select">
    <option disabled selected>-- Selecciona una opci√≥n --</option>
    <option value="custom">‚ûï Crear opci√≥n personalizada</option>
    <option value="random">üé≤ Crear opci√≥n aleatoria</option>
  </select>

  <script>
    const select = document.getElementById('dynamic-select');

    // Almacenar las alertas personalizadas por valor de la opci√≥n
    const alertMessages = {};

    // Generador de mensajes aleatorios
    function mensajeAleatorio() {
      const mensajes = [
        "¬°Mensaje sorpresa!",
        "Has creado algo genial üòé",
        "Esto es completamente aleatorio üé≤",
        "¬øQui√©n lo habr√≠a pensado?",
        "¬°Otra opci√≥n m√°s!"
      ];
      return mensajes[Math.floor(Math.random() * mensajes.length)];
    }

    select.addEventListener('change', () => {
      const valor = select.value;

      if (valor === 'custom') {
        const nombre = prompt('¬øCu√°l ser√° el nombre de la nueva opci√≥n?');
        if (!nombre) return;

        const mensaje = prompt('¬øQu√© mensaje quieres que muestre al seleccionarla?');
        if (!mensaje) return;

        const nuevaOpcion = document.createElement('option');
        nuevaOpcion.value = 'opt_' + Date.now();
        nuevaOpcion.textContent = nombre;

        // Asignar mensaje a esa opci√≥n
        alertMessages[nuevaOpcion.value] = mensaje;

        select.appendChild(nuevaOpcion);
        select.value = nuevaOpcion.value;
        alert(mensaje);

      } else if (valor === 'random') {
        const nombre = prompt('¬øCu√°l ser√° el nombre de esta opci√≥n aleatoria?');
        if (!nombre) return;

        const nuevaOpcion = document.createElement('option');
        nuevaOpcion.value = 'opt_' + Date.now();
        nuevaOpcion.textContent = nombre;

        const mensaje = mensajeAleatorio();
        alertMessages[nuevaOpcion.value] = mensaje;

        select.appendChild(nuevaOpcion);
        select.value = nuevaOpcion.value;
        alert(mensaje);

      } else if (alertMessages[valor]) {
        // Si es una opci√≥n creada, mostrar su mensaje
        alert(alertMessages[valor]);
      }

      // Resetear a la opci√≥n por defecto si no es una nueva
      if (valor !== 'custom' && valor !== 'random') {
        // Nada, se queda seleccionada
      } else {
        select.value = "-- Selecciona una opci√≥n --";
      }
    });
  </script>

</body>
</html>
