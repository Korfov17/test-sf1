<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Contador con mensaje animado</title>
  <style>
    body {
      background-color: #1a1a1a;
      color: white;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      margin: 0;
      padding-top: 60px;
    }

    #contador {
      font-size: 80px;
      margin-bottom: 40px;
      display: none;
      animation: brilloColor 0.4s linear infinite;
      transition: filter 0.5s ease, transform 0.5s ease;
    }

    @keyframes brilloColor {
      0%   { filter: hue-rotate(0deg); }
      25%  { filter: hue-rotate(90deg); }
      50%  { filter: hue-rotate(180deg); }
      75%  { filter: hue-rotate(270deg); }
      100% { filter: hue-rotate(360deg); }
    }

    #mensaje {
      display: none;
      background-color: #1a1a1a;
      color: white;
      border: 4px solid white;
      box-shadow: 0 0 25px white;
      padding: 30px;
      max-width: 700px;
      width: 80%;
      font-size: 18px;
      text-align: center;
      line-height: 1.7;
      margin-top: 30px;
      animation: aparecer 0.6s ease-in-out;
    }

    #mensaje h2 {
      margin-bottom: 15px;
      font-size: 24px;
      color: #00ffcc;
    }

    @keyframes aparecer {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    h1, p {
      color: white;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Presiona F6 + Flecha Izquierda</h1>
  <p>Mantén ambas teclas presionadas durante 5 segundos para revelar el mensaje oculto.</p>
  <div id="contador"></div>
  <div id="mensaje"></div>

  <script>
    let keysPressed = {};
    let intervalId = null;
    let count = 0;

    const parrafos = [
      "En un rincón del mundo digital, los bytes bailan sin cesar. Cada instrucción es una nota, cada ciclo una melodía. El código no duerme, solo espera ser entendido. Y cuando lo es, crea magia donde antes hubo silencio.",
      "El viento soplaba fuerte aquella noche, mientras los árboles contaban secretos al cielo. Nadie escuchaba, salvo el viejo cuervo en la rama más alta. Él sabía que al amanecer, todo cambiaría para siempre.",
      "Entre montañas olvidadas, un viajero solitario escribió su historia con cada paso. No buscaba un destino, sino preguntas sin respuesta. Su mapa era el cielo, y su brújula, la intuición. A veces, perderse era la única forma de encontrarse.",
      "En el corazón de una biblioteca eterna, los libros hablaban entre ellos en susurros de papel. Algunos recordaban guerras, otros sueños. Todos, sin excepción, anhelaban ser abiertos una vez más."
    ];

    function iniciarContador() {
      const contadorEl = document.getElementById('contador');
      const mensajeEl = document.getElementById('mensaje');
      count = 0;
      contadorEl.textContent = '0';
      contadorEl.style.display = 'block';
      mensajeEl.style.display = 'none';
      mensajeEl.innerHTML = '';

      intervalId = setInterval(() => {
        count++;
        contadorEl.textContent = count;

        // Efecto visual: más brillante al principio, menos después
        const brillo = 2.5 - (count * 0.3); // brillo decae con el tiempo
        const escala = 1.2 - (count * 0.04); // más grande al principio

        contadorEl.style.filter = `brightness(${brillo})`;
        contadorEl.style.transform = `scale(${escala})`;

        if (count >= 5) {
          clearInterval(intervalId);
          intervalId = null;

          alert('¡Has mantenido F6 + Flecha Izquierda durante 5 segundos!');

          const textoAleatorio = parrafos[Math.floor(Math.random() * parrafos.length)];
          mensajeEl.innerHTML = `<h2>Mensaje desbloqueado</h2><div>${textoAleatorio}</div>`;
          mensajeEl.style.display = 'block';

          contadorEl.style.display = 'none';
        }
      }, 1000);
    }

    function cancelarContador() {
      const contadorEl = document.getElementById('contador');
      const mensajeEl = document.getElementById('mensaje');

      if (intervalId) {
        clearInterval(intervalId);
        intervalId = null;
      }

      contadorEl.style.display = 'none';
      contadorEl.textContent = '';
      mensajeEl.style.display = 'none';
      mensajeEl.innerHTML = '';
    }

    document.addEventListener('DOMContentLoaded', () => {
      document.addEventListener('keydown', (event) => {
        keysPressed[event.keyCode] = true;

        if (keysPressed[117] && keysPressed[37] && !intervalId) {
          iniciarContador();
        }
      });

      document.addEventListener('keyup', (event) => {
        delete keysPressed[event.keyCode];

        if (!keysPressed[117] || !keysPressed[37]) {
          cancelarContador();
        }
      });
    });
  </script>
</body>
</html>
