<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Combinación F6 + Flecha Izquierda</title>
  <style>
    body {
      background-color: black;
      color: white;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }

    #contador {
      font-size: 60px;
      color: #00ff88;
      margin-bottom: 40px;
      display: none;
      animation: fadeIn 0.3s ease-in-out;
    }

    .contador-animado {
      animation: pop 0.3s ease-in-out;
    }

    @keyframes pop {
      0% { transform: scale(1); opacity: 0.5; }
      50% { transform: scale(1.3); opacity: 1; }
      100% { transform: scale(1); }
    }

    #mensaje {
      display: none;
      background-color: black;
      color: white;
      border: 4px solid white;
      box-shadow: 0 0 20px white;
      padding: 30px;
      max-width: 700px;
      width: 80%;
      font-size: 20px;
      text-align: center;
      line-height: 1.7;
      animation: aparecer 0.5s ease-in-out;
    }

    @keyframes aparecer {
      from {
        transform: scale(0.8);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    h1, p {
      color: white;
      text-align: center;
    }
  </style>
  <script>
    let keysPressed = {};
    let intervalId = null;
    let count = 0;

    const parrafos = [
      "En un rincón del mundo digital, los bytes bailan sin cesar. Cada instrucción es una nota, cada ciclo una melodía. El código no duerme, solo espera ser entendido. Y cuando lo es, crea magia donde antes hubo silencio.",
      "El viento soplaba fuerte aquella noche, mientras los árboles contaban secretos al cielo. Nadie escuchaba, salvo el viejo cuervo en la rama más alta. Él sabía que al amanecer, todo cambiaría para siempre.",
      "Entre montañas olvidadas, un viajero solitario escribió su historia con cada paso. No buscaba un destino, sino preguntas sin respuesta. Su mapa era el cielo, y su brújula, la intuición. A veces, perderse era la única forma de encontrarse.",
      "En el corazón de una biblioteca eterna, los libros hablaban entre ellos en susurros de papel. Algunos recordaban guerras, otros sueños. Todos, sin excepción, anhelaban ser abiertos una vez más."
    ];

    function iniciarContador() {
      const contadorEl = document.getElementById('contador');
      const mensajeEl = document.getElementById('mensaje');
      count = 0;
      contadorEl.style.display = 'block';
      contadorEl.textContent = '0';
      mensajeEl.style.display = 'none';
      mensajeEl.textContent = '';

      intervalId = setInterval(() => {
        count++;
        contadorEl.textContent = count;
        contadorEl.classList.remove('contador-animado');
        void contadorEl.offsetWidth; // reiniciar animación
        contadorEl.classList.add('contador-animado');

        if (count >= 5) {
          clearInterval(intervalId);
          intervalId = null;

          // Mostrar cuadro con texto aleatorio
          const textoAleatorio = parrafos[Math.floor(Math.random() * parrafos.length)];
          mensajeEl.textContent = textoAleatorio;
          mensajeEl.style.display = 'block';

          contadorEl.style.display = 'none';
        }
      }, 1000);
    }

    function cancelarContador() {
      const contadorEl = document.getElementById('contador');
      const mensajeEl = document.getElementById('mensaje');

      if (intervalId) {
        clearInterval(intervalId);
        intervalId = null;
      }

      contadorEl.style.display = 'none';
      contadorEl.textContent = '';
      mensajeEl.style.display = 'none';
      mensajeEl.textContent = '';
    }

    document.addEventListener('DOMContentLoaded', () => {
      document.addEventListener('keydown', (event) => {
        keysPressed[event.keyCode] = true;

        if (keysPressed[117] && keysPressed[37] && !intervalId) {
          iniciarContador();
        }
      });

      document.addEventListener('keyup', (event) => {
        delete keysPressed[event.keyCode];

        if (!keysPressed[117] || !keysPressed[37]) {
          cancelarContador();
        }
      });
    });
  </script>
</head>
<body>
  <h1>Presiona F6 + Flecha Izquierda</h1>
  <p>Mantén ambas teclas presionadas durante 5 segundos para revelar el mensaje oculto.</p>
  <div id="contador"></div>
  <div id="mensaje"></div>
</body>
</html>
